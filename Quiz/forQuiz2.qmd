---
title: "통계자료분석 Quiz2 대비"
author: 서강대학교 20121802 김재현
date: "2023-11-14"
format: 
  html:
    toc: true
    fontsize: 0.9em
    mainfont: 'SOGANG-UNIVERSITY'

---

# 회귀분석 간단 문제

## [문제 - 간단문제]

**1.회귀분석은 변수들 간에 상관관계를 분석하는 것이므로 이 보다 작은 범위의 의미를 가지는 인과관계로 확장하여 해석할 수 있다.**

1)참   
2)거짓


::: {.callout-tip title="정답" collapse="true"}
답: 거짓
:::




**2.단순회귀분석에서 상관계수의 부호는 회귀계수의 부호와 항상 동일하다.**


1)참  
2)거짓


::: {.callout-tip title="정답" collapse="true"}
정답 : 1
:::




**3.단순회귀분석에서 절편에 대한 추정량, a 가 양수로 나왔다면?**

1)양의 상관관계를 의미  
2)x가 증가하면 y도 함께 증가한다는 의미  
3)y 값은 항상 양수의 값을 갖는다는 의미  
4)앞의 3개 보기 모두 해당되는 내용이 아니다.



::: {.callout-tip title="정답" collapse="true"}
정답 : 4
::: 

------------------------------------------------------------------------

# p값

## [문제 - p값]

**1.  p값이 크다는 의미는 데이터가 귀무가설로부터 멀리 떨어져 있다는 의미이다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}
정답 : 2
::: 

------------------------------------------------------------------------

# 결정계수

먼저 변동의 분해를 보자.

![](./images/Variance.png)

위와 같은 변동의 분해는 제곱합을 하더라도 유지된다.

## SST = SSR + SSE

![](./images/SST.png)

총변동에서 Regression에 의한 변동이 차지하는 비율, 즉 회귀모형에 의하여 설명되는 제곱합(변동)이 차지하는 비율이 높을 수록, x변수가 y를 예측하는데 중요한 변수라고 볼 수 있다.

이에 결정계수 $R^2 = SSR/SSE$가 높을수록 y를 예측하는데 좋은 회귀모형이라 볼 수 있다.

## [문제 - 결정계수]

**1.  회귀분석에서 SSE=200, SSR=300 이라면 결정계수, $R^2$ 값은 얼마인가?**

::: {.callout-tip title="정답" collapse="true"}
정답 : 0.6  
해설 : 300/(200+300)
::: 

**2. 결정계수, $R^2$ 값이 1이라는 의미는 SSE 값이 0 이라는 의미이다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}
정답 : 1
:::


**3.  단순회귀분석에서 상관계수가 0.64라는 의미는 두 변수의 결정계수가 0.8이라는 의미이다.**


1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}
정답 : 2  
해설: 상관계수가 0.8 일 경우 결정계수가 0.64
:::

**4.  결정계수, $R^2$ 값이 0이면 SSR값은 0이 되어야 한다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}
정답 : 1
::: 

**5.  두 변수의 상관계수가 0.8이라는 의미는 단순 회귀분석에서 두 변수의 결정계수가 0.64이라는 의미이다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}
정답: 1   
해설 : 상관계수가 0.8 일 경우 결정계수가 0.64
:::

**6.단순 회귀분석에서 $R^2=1$이라면?**

1)SSE 값이 양수라는 의미  
2)SSE 값이 0이라는 의미  
3)SSE 값이 음수라는 의미  
4)SSE 값이 1 이라는 의미

::: {.callout-tip title="정답" collapse="true"}

답 : 2
::: 

---

# R 기초

## [문제]

**1.  확률변수 X 가 정규분포 N(60, 16) 분포를 따른다고 하였을 경우 P(55≤X≤62) 확률을 R의 함수로 기술하시오.**

::: {.callout-tip title="정답" collapse="true"}

정답 : pnorm(62,60,4) - pnorm(55,60,4)
::: 


---

# 귀무가설, 대립가설

## [문제]

**1.  주어진 동전이 공정한 동전인 지를 확인하기 위하여, 동전을 10번 던지는 실험을 진행하였다.**

(1)이 문제에 적용되는 모수를 정의하고, 귀무가설과 대립가설을 기술하시오.  
(2)이 문제와 관련된 확률변수를 기술하고 관련분포를 기술하시오.  
(3)동전을 100번 던지는 실험에서 60번 앞면이 나타났다. p-값을 R코드 형태로 표현하시오.

::: {.callout-tip title="정답" collapse="true"}

해설 : 
(1)모수 p: 동전 앞면이 나올 확률 Ho: p = 1/2 Hi: p $\neq$ 1/2 또는 H: p!= 1/2  
(2)확률변수: 동전을 100번 던졌을 경우 나타나는 동전 앞면의 수, 또는 동전을 100번 던졌을 경우 나타나는 동전 앞면이 나타나는 비율  
분포: n=100 과 p (또는 p=1/2)을 갖는 이항분포   
(3)2\*(1-pbinom(59, 100, 1/2)) (양측 검정이므로 꼬리 확률에 2를 곱해야 한다.)

pbinom(q,size,prob)은 이항분포, binomial distribution 중, 누적분포함수 계산에 사용한다.

이항분포는 셀 수 있는 값에 대한 분포, 즉 이산형 확률 분포이다.

그러므로, 60번이상 앞면이 나올 확률(꼬리 확률) $Pr(60\le X)$는 $1-Pr(X\le 59)$이다. 

:::


**2.  동일한 조건 아래서 유의수준이 커지면 귀무가설 H0 를 기각할 가능성이 커진다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}
정답 : 1
::: 


**3.  가설검정에서는 '귀무가설이 참이라면' 이라고 가정하고 검정통계량의 분포를 찾는다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}

정답 : 1
::: 


**4.  귀무가설이 기각되었다는 의미는 대립가설이 채택되었다는 의미이다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}

정답 : 1
:::

**5.  유의수준이란?**

1)제1종오류에 대한 허용되는 최대값  
2)제2종오류에 대한 허용되는 최대값  
3)신뢰수준을 의미  
4)p값을 의미  

::: {.callout-tip title="정답" collapse="true"}

정답 : 1
:::

**6. A질환에 대하여 기존의 치료방법은 질병을 치료하는 데에 평균 15일이 걸린다고 알려져 있다. 어느 제약회사에서 새로운 치료방법을 개발하였는데, 이 새로운 치료방법은 치료기간을 15일 보다 더 줄일 수 있다고 주장하고 있다. 실제로 70명의 환자에게 새로운 치료방법을 적용하였더니 치료기간에 대한 표본평균 14.6(일)과 표본표준편차 3(일)로 나타났다. 다음 물음에 답하시오 (유의수준은 5%로 가정)**

(1)이 문제에 적용되는 모수를 정의하고,  
(2)귀무가설과 대립가설을 기술하시오  
(3)p-값을 R 함수식으로 표현하시오.

::: {.callout-tip title="정답" collapse="true"}

해설: 
(1)모수 : A질환에 대하여 치료하는데 걸리는 평균 치료기간  
(2)Ho: $\mu= 15$, H1:$\mu< 15$  
(3)norm(14.6, 15, 3/sqrt(70))
:::


**7. 어느 체중감량 프로그램이 제시한 4개월에 18kg 감량" 이라는 광고 문구에 대하여 소비자 단체에서 과대 광고라는 항의가 들어왔다. 이를 판단하기 위하여 통계적 가설검정을 실시하기로 하였다. (단, 표준편차는 6kg으로 알려져 있다.)**

(1)모수를 정의하고, 귀무가설과 대립가설을 기술하시오.\
(2)검정통계량을 정하고 귀무가설이 참인 경우 어떤 분포를 갖는지 기술하시오.\
(3)36명을 조사한 결과 평균 체중 감소량이 15kg으로 나타났다면 이에 대한 p값을 R의 수식으로 표현하시오.

::: {.callout-tip title="정답" collapse="true"}

해설 : 

(1)모수 : 체중감량 프로그램을 진행한 후 4개월 후 나타난 체중 감량 평균값

HO (귀무가설): $\mu$= 18kg\
H1 (대립가설) : $\mu$ \< 18kg

(2)검정통계량: 표본평균 또는 표본평균의 표준화된 Z값 귀무가설이 참이라면, 표본평균은 µ=18kg 표준편차는 6/sqrt(36)=1 이 되는 정규분포를 따른다.

(3)pnorm(15, 18, 1)

::: 


**8. 가설검정에서 의사결정을 내릴 때는 대립가설을 가정한 상태에서 귀무가설을 기각할 수 있는지 또는 기각할 수 없는지를 판단한다.**

1)예  
2)아니오

::: {.callout-tip title="정답" collapse="true"}
정답: 2

해설: 귀무가설을 가정한 상태에서 귀무가설을 기각할 수 있는지 또는 기각할 수 없는지를 판단한다.
:::


------------------------------------------------------------------------

# 제1종오류, 제2종오류

## [문제]

**1.  제1종 오류는 잘못된 귀무가설 Ho 를 기각시키지 못하는 오류를 의미한다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}
정답 : 2 

해설 : 제1종 오류는 참 귀무가설 Ho 를 기각시키는 오류를 의미한다.
::: 


**2.  가설검정에서 "유의수준 5%에서 귀무가설을 기각할 수는 없다"라는 결론이 나타났다면 다음 중 어떠한 오류에 노출되어 있는가?**

1)제1종 오류  
2)제2종 오류  
3)제1종 오류 와 제2종 오류  
4)귀무가설을 기각하였으므로 어떠한 오류에도 노출되어 있지 않다.

::: {.callout-tip title="정답" collapse="true"}
정답: 2
:::


**3.  제2종오류는 어떠한 경우에 발생하는가?**

1)귀무가설을 기각하는 경우  
2)귀무가설을 기각하지 못하는 경우

::: {.callout-tip title="정답" collapse="true"}

정답 : 2

:::


**4.  은행에서 대출 심사를 진행하는 경우,**\

(1)은행 입장에서 고려해야 하는 적절한 귀무가설과 대립가설을 세우고, 이에 대한 이유를 설명하시오\
(2)제2종오류에 대하여 설명하시오.

::: {.callout-tip title="정답" collapse="true"}

해설 :

(1) 은행에서 대출 심사를 할 때, 대출 신청자는 실제로 대출 상환금을 갚을 수 없는 상황인데 갚을 수 있다고 잘못 판단하여 대출을 실행하는 경우 매우 심각한 손실이 발생한다. 따라서 이러한 오류를 제 1종 오류로 잡는 것이 타당하며 이에 따라 다음과 같이 가설을 설정할수 있다.

귀무가설: 대출 신청자는 대출 상환금을 갚지 못할 것이다.  
대립가설: 대출 신청자는 대출 상환금을 갚을 것이다.

(2) 제2종 오류는 거짓인 귀무가설을 기각시키지 못하는 오류로, 이 경우 대출 상환금을 잘 갚을 대출 신청자를 대출 신청자는 대출 상환금을 갚지 못할 것이다'라고 잘못 판단하여 대출을 거절하는 의사결정을 내리는 오류라고 볼 수 있다.

:::


**5. 제2종 오류는 참인 귀무가설을 기각시키는 오류 의미한다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}

정답 : 2

해설 : 제2종 오류는 거짓인 귀무가설을 기각시키지 못하는 오류임.

:::

------------------------------------------------------------------------

# 단순회귀분석 분산분석

## F value

$F값 = \frac{MSR}{MSE} \sim F(1,n-2)$

F값은 분자의 자유도(위에서 1)와 분모(n-2)의 자유도에 따라 분포가 달라진다.

### R에서 F분포를 이용한 p-value

```
pf(q,df1,df2) #df= degree of freedom
```

```{r}
#예시
1-pf(5,1,3)
```


## [문제]

**1.다음 R의 결과를 보고 물음에 답 하여라.**

```
lm(y~x)

Call: Im(formula = y ~ x) 

Coefficients:

(Intercept) x 

  2         1
 
anova(lm(y~x))  
Analysis of Variance Table  
Response: y  
           Df Sum Sq Mean Sq F value Pr(>F)  
x           1    10    10       ?    0.1114  
Residuals   3    6      2
```



(1) 총 몇 개의 자료로 분석이 진행되었는가?  
(2) 추정된 회귀방정식을 기술하시오.  
(3) SST 값은 얼마인가?  
(4) F value에 해당하는 값은 얼마인가  
(5) 0.1114 값이 어떻게 계산되는지 R함수로 표현하시오.  
(6) 모형의 오차, e의 분산에 대한 추정값은 얼마인가?  
(7) 결정계수 $R^2$는 얼마인가? (수식으로 표현하여도 됨)  
(8) 위의 분석결과를 보고 어떠한 결론을 내릴 수 있는가?  

::: {.callout-tip title="정답" collapse="true"}

해설:

(1) 5개 자료    
(2) y = 2 + 1x    
(3) SST=16   
(4) 5   
(5) 1-pf(10/2,1,3)   
(6) $\varepsilon$의 분산에 대한 추정값: MSE = 2   
(7) $R^2$ = 10/16  
(8) 유의수준 5%에서 x는 y에 영향을 미치는 유의미한 변수라고 볼 수 없다. (x와 y는 관계가 없다)

:::

------------------------------------------------------------------------

# MSE

## [문제]

**1.회귀모형에서 오차항, $\varepsilon$에 대한 분산인 $\sigma^2$ 의 추정량은 MSE 이다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}

정답 : 1

:::

~~**2.총 125개 관측값에서 10개의 독립변수로 구성된 회귀모형의 경우 MSE에 대한 자유도는 얼마인가?**~~

::: {.callout-tip title="정답" collapse="true"}

정답 : 114

해설 : SST 124, SSR: 10, SSE: 114
::: 


~~**3.10개의 자료를 이용하여 3개의 독립변수로 구성된 회귀분석을 진행하였을 경우, SSE에 대한 자유도는 얼마인가?**~~

::: {.callout-tip title="정답" collapse="true"}

정답 : 6

해설:SST에 대한 자유도 9 SSR에 대한 자유도 3 SSE에 대한 자유도 6
::: 

**4.모형의 표준오차에 대한 추정량은 MSE이다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}

정답 : 2  
해설 : 오차항의 분산에 대한 추정량이다.

:::

---

# 회귀모형 진단

## [문제]

**1.회귀분석 모형을 진단하는 과정에서 점검해야 하는 항목을 모두 고르시오.**

1)  다중공선성\
2)  잔차에 대한 분석\
3)  잔차에 대한 등분산성 검토\
4)  잔차에 대한 outier 검토\
5)  위의 4가지 과정이 모두 필요하다.

::: {.callout-tip title="정답" collapse="true"}
답: 5
:::

------------------------------------------------------------------------

# 회귀분석 오차항 가정

## [문제]

**1.회귀분석 모형의 오차항에 대한 가정을 기술한 것으로 틀린 문장을 모두 고르시오.**

1)  오차항의 평균은 0  
2)  오차항은 정규분포를 따른다  
3)  오차항들은 서로 독립적 관계를 가져야 한다.  
4)  오차항들의 분산은 독립변수의 값에 관계없이 일정하여야 한다.  
5)  위의 모든 문장은 옳은 문장이다.

::: {.callout-tip title="정답" collapse="true"}

답 : 5

:::

------------------------------------------------------------------------

# 표준오차

## [문제]

**1.  회귀모형에서 오차항, e에 대한 표준편차는 모형의 표준오차를 의미한다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}

정답 : 1

:::

------------------------------------------------------------------------

# F검정, t검정

## [문제]

**1.독립변수가 1개인 단순회귀분석에서 F-검정과 t검정은 동일한 검정이므로 두 검정에 대한 p값은 항상 동일하다.**

1)참  
2)거짓

::: {.callout-tip title="정답" collapse="true"}
정답 : 참
::: 

---

# ~~더미변수~~

## [문제]

1.  10개 브랜드에 대한 차이(즉, 10개 카테고리)를 알고자 회귀분석에서 더미변수를 적용한다면 더미변수는 9개 필요하다.

1)  참
2)  거짓

정답: 참 해설 : 9개의 더미변수를 설정하면 나머지 한 개 브랜드는 결정 나버리기 때문에 9개 더미변수만 있으면 된다.

2.  범주형 자료를 회귀분석의 독립변수에 적용할 경우 무엇을 만들어 주어야 하나?

1)  절편항
2)  더미변수
3)  명목형 변수
4)  상수항

정답 : 2

---

# ~~VIF~~

## [문제]

1.  lm(y\~$x_1+x_2+x_3$) 모형에서 $x_1$에 대한 VIF 값은 lm($x_1+x_2+x_3$) 모형에 대한 $R^2$ 값을 기반으로 계산되어 진다.

1)  참  
2)  거짓

정답 : 참

---

# ~~다중공선성~~

## [문제]

1.높은 다중공선성을 갖는다는 의미는 독립변수들끼리 서로 상관관계가 높다는 것을 의미한다.

1) 참  
2) 거짓

정답 : 참

---

# ~~다중회귀분석~~

## [문제]

1.  다음의 다중회귀모형 추정식에서, x1 이 1단위 증가하고 x2는 변화가 없다면 y는 얼마 만큼 증가하는가? $\hat{y} = 7 + 2x_1 + 9x_2 + 3x_1x_2$

1)  2
2)  9
3)  3
4)  x2 값에 따라 변화량이 달라지므로 판단할 수 없다.

정답 : 4

2.  다음은 lm(판매량\~입사성적\*성별)에 대한 R 분석 결과이다. (여기서 성별은 남자, 여자로 구분되어 있다)

Coefficients: Estimate Std.Error t value Pr(\>t) (Intercept) 4.3250 1.4237 3.038 0.022865 *입사성적 2.3750 0.2681 8.859 0.000115* \*\* 성별 남자 7.4250 2.2526 3.296 0.016487 *입사성적: 성별 남자-1.2250 0.3597 -3.406 0.014394*

Signif codes: 0 \*\*\*\* 0.001 \*\* 0.01 \* 0.05: 0.1 \* 1 Residual standard error: 1.072 on 6 degrees of freedom Multiple R-squared: 0.9558, Adjusted R-squared: 0.9337 F-statistic: 43.22 on 3 and 6 DF, p-value: 0.0001861

(1) 총 몇 개의 자료로 분석이 이루어 졌는가?
(2) 모형에 대한 자유도는 얼마인가?
(3) 이 모형에서 적용된 Reference Group은?
(4) 입사성적이 70점의 남자의 경우 예측값을 R 수식으로 표현하시오.

해설: 

(1) 10개 자료  
(2) 3  
(3) 성별: 여자  
(4) 4.3250+ 23750\$\times$70 + 7.4250 - 1.2250$\times\$70

------------------------------------------------------------------------

# ~~다중회귀분석 분산분석표~~

12 다음은 다중회귀분석에 대한 간단한 분산분석표이다. Y를 종속변수, X1, X2...를 독립변수라고 하였을 경우, 다음 물음에 답하시오. 분산분석표 자유도 제곱합 모형 4 400 오차 6 600

(1) 분석에 사용된 표본 크기는 얼마인가?
(2) 결정계수는 얼마인가? (수식으로 표현하여도 됨)
(3) 분산분석표에서 나오는 통계적 가설검정에 사용되는 F분포의 자유도를 기술하시오.
(4) 이 회귀모형에서 고려된 독립변수는 몇개 인가?
(5) 만일 분산분석표에서 F-검정에 대한 p값이 0.001로 나타났다면, 이는 어떠한 의미인가?
(6) 분산분석표의 F-검정과 p값과 회귀계수 값에 나타나는 x의 t검정에 대한 p값은 같은가?
(7) 모형에 대한 표준오차 (Standard Error)는 얼마인가? (수식으로 표현하여도 됨)
(8) mymodel 객체가 회귀분석 모형으로 저장되어 있을 경우, 회귀계수의 95%신뢰구간을 요청하는 R코드를 기술하시오.

해설 : (1) n=11 (2) $R^2=400/1000=0.4$ (3) F(4.6) 분포 (4) 4개 (5) 4개의 독립변수 중 최소한 한 개는 통계적으로 유의하게 종속변수 Y에 영향을 미친다. (6) 다중 회귀분석이므로 p값이 동일하지 않다. (7) sqrt(600/6) = 10 (8) confint(my.model, level=0.95)
